<div class="row" ng-if="pendingHelpHourSignins">
    <div class="alert alert-danger" ng-repeat="helphour in pendingHelpHourSignins">
        You are not signed in for your current help hours from {{ today() + " " + helphour.StartTime | amDateFormat: 'h:mm a' }} - {{ today() + " " + helphour.EndTime | amDateFormat: 'h:mm a' }}
        <a class="btn btn-default" ng-click="signinHelpHour(helphour)">Sign in now</a>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <h1>Welcome to CS Crew</h1>
        <p>
            We are a student-led community of individuals studying or  interested in Computer Science at the University of Vermont. Founded in 2010 by Anthony Sweet, Mark Cooper, and Beau Cameron, we provide a space for students to further their knowledge and skills in CS related concepts and applications. We are located in Votey 332 and welcome anyone who wants to come in to work on projects, get help during help hours, study, and network.
        </p>
        <p ng-init="loadSigninStats()" ng-show="signinStats">
            There have been {{ signinStats.signinsToday }} room sign-in(s) today, with {{ signinStats.uniqueUsers }} unique visitors.
        </p>
    </div>
    <div class="col-md-6">
        <div id="todays-help-hours" ng-init="loadHelpHoursToday()">
            <h2>Today's Help Hours</h2>
            <ul class="list-unstyled">
                <li ng-repeat="helphour in helpHoursToday | orderBy: 'StartTime'">
                    <div ng-class="{true:'todays-help-hours-active row', false:'todays-help-hours-inactive row'}[helphour.dateRange.contains(now())]"
                        class="todays-help-hours-inactive row">
                        <div class="col-md-4">
                            <img alt="User avatar" ng-if="helphour.User.Picture" ng-src="{{ helphour.User.Picture }}">
                            <img alt="No picture available" ng-if="!helphour.User.Picture" ng-src="img/qmark.png">
                        </div>
                        <div class="col-md-8">
                            <span ng-if="helphour.dateRange.contains(now())">
                                <!-- If the user has signed in for this help hour -->
                                <span ng-if="helphour.SignedIn">Check mark goes here</span>
                                <!-- If the user has NOT signed in for this help hour -->
                                <span ng-if="!helphour.SignedIn">X mark goes here</span>
                            </span>
                            <h3>
                                {{ helphour.User.Name }}
                                <small>{{ today() + " " + helphour.StartTime | amDateFormat: 'h:mm a' }} - {{ today() + " " + helphour.EndTime | amDateFormat: 'h:mm a' }}</small>
                                <small ng-if="now().isBefore(helphour.StartTimeMoment)">(Starts <span am-time-ago="helphour.StartTimeMoment"></span>)</small>
                                <small ng-if="helphour.dateRange.contains(now())">(Ends <span am-time-ago="helphour.EndTimeMoment"></span>)</small>
                            </h3>
                            <p><span ng-repeat="skill in helphour.User.Skills">{{ skill.Name}}<span ng-if="!$last">, </span></span></p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
